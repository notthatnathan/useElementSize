import{useState as e,useRef as n,useLayoutEffect as t}from"react";import{v4 as r}from"uuid";var i,o={};export default function(u,c){var l,d,v;if(void 0===c&&(c=[0,0]),"undefined"==typeof window)return c;var f=e(c),z=f[0],s=f[1],a=null==u||null===(l=u.current)||void 0===l?void 0:l.getAttribute("resize-id"),g="test"===(null===(d=process)||void 0===d||null===(v=d.env)||void 0===v?void 0:v.NODE_ENV),S=n(a||"resize-"+(g?"test":r()));return i=i||new ResizeObserver(function(e){null==e||e.forEach(function(e){o[(e.target.current||e.target).getAttribute("resize-id")].forEach(function(n){return n(e)})})}),t(function(){var e,n;if(null!=u&&u.current)return u.current.setAttribute("resize-id",S.current),s([null==u||null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect().width,null==u||null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect().height]),o[S.current]=[].concat(o[S.current]||[],[function(e){var n;e&&(null!==(n=e.contentBoxSize)&&void 0!==n&&n[0]?s([e.contentBoxSize[0].inlineSize,e.contentBoxSize[0].blockSize]):s(null!=e&&e.contentBoxSize?[e.contentBoxSize.inlineSize,e.contentBoxSize[0].blockSize]:[e.contentRect.width,e.contentRect.height]))}]),a&&i.unobserve(null==u?void 0:u.current),i.observe(null==u?void 0:u.current),function(){null!=u&&u.current&&i.unobserve(null==u?void 0:u.current)}},[null==u?void 0:u.current,a]),z}
//# sourceMappingURL=index.esm.js.map

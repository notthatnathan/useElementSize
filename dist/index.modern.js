import{useState as e,useRef as t,useLayoutEffect as n}from"react";import{v4 as r}from"uuid";const i=[0,0];let o;const u={};export default l=>{var c,d,v;if("undefined"==typeof window)return[0,0];const[s,z]=e(i),g=null==l||null===(c=l.current)||void 0===c?void 0:c.getAttribute("resize-id"),S="test"===(null===(d=process)||void 0===d||null===(v=d.env)||void 0===v?void 0:v.NODE_ENV),a=t(g||`resize-${S?"test":r()}`);return o=o||new ResizeObserver(e=>{null==e||e.forEach(e=>{u[(e.target.current||e.target).getAttribute("resize-id")].forEach(t=>t(e))})}),n(()=>{var e,t;if(null!=l&&l.current)return l.current.setAttribute("resize-id",a.current),z([null==l||null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect().width,null==l||null===(t=l.current)||void 0===t?void 0:t.getBoundingClientRect().height]),u[a.current]=[...u[a.current]||[],e=>{var t;e&&(null!==(t=e.contentBoxSize)&&void 0!==t&&t[0]?z([e.contentBoxSize[0].inlineSize,e.contentBoxSize[0].blockSize]):z(null!=e&&e.contentBoxSize?[e.contentBoxSize.inlineSize,e.contentBoxSize[0].blockSize]:[e.contentRect.width,e.contentRect.height]))}],g&&o.unobserve(null==l?void 0:l.current),o.observe(null==l?void 0:l.current),()=>{null!=l&&l.current&&o.unobserve(null==l?void 0:l.current)}},[null==l?void 0:l.current,g]),s};
//# sourceMappingURL=index.modern.js.map
